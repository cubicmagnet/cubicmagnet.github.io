webpackJsonp([0,10],{13:function(t,e,n){"use strict";function r(t,e){return new p(t,e)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(11),a=n(8),i=(n.n(a),n(54)),s=(n.n(i),n(12)),l=n(53),c=n(62),u=n(61);e.create=r;var f=18,d=100,h=20,p=function(){function t(e,n){this.options=n,this.necessaryHeight=d,this.chartWidth=120,this.valuePostFix="",this.activeQuarters=[],this.field=n.field,this.parentDOM=n.parentDOM,"sourceNode"===n.field?(t.sourceChart=this,this.chartWidth=a.select(".left_bars").node().getBoundingClientRect().width-h):"targetNode"===n.field&&(t.targetChart=this,this.chartWidth=a.select(".right_bars").node().getBoundingClientRect().width-h)}return t.prototype.init=function(){return this.attachListener(),"loaded"===localStorage.getItem("dataLoaded")&&(this.$node=a.select(this.parentDOM).append("svg").classed("barchart",!0).attr("width",this.chartWidth).attr("height",d)),Promise.resolve(this)},t.createSparklines=function(e){i.getItem("data").then(function(t){return t}).then(function(n){var r=a.set(n.map(function(t){return t.timeNode})).values().sort(),o=c.a.getInstance().performAttributeFilters(n);e.each(function(e,n){var i=a.select(this),s=i.attr("class").includes("tag");i.attr("class").includes("source")?t.sourceChart.build(o,s,i.datum().name,i.datum().y,i.datum().dy,r):t.targetChart.build(o,s,i.datum().name,i.datum().y,i.datum().dy,r)})})},t.prototype.build=function(t,e,n,r,o,a){var i=this;i.aggregatedSankeyActive=e;var l=JSON.parse(localStorage.getItem("columnLabels"));this.valuePostFix=null==l?"":" "+l.valueNode;var c=r+s.a.SANKEY_TOP_MARGIN-s.a.SANKEY_NODE_PADDING/3,u=o+2*s.a.SANKEY_NODE_PADDING/3;this.necessaryHeight<c+u&&(this.necessaryHeight=c+u,this.$node.attr("height",c+u));var f=i.prepareData(t,n);i.drawBarChart(f,n,c,u,a)},t.prototype.attachListener=function(){var t=this,e=this;o.b(s.a.EVENT_FILTER_CHANGED,function(t,n){e.$node.html("")}),o.b(s.a.EVENT_RESIZE_WINDOW,function(n){t.chartWidth=a.select(".left_bars").node().getBoundingClientRect().width-h,t.$node.attr("width",t.chartWidth),e.$node.html("")}),o.b(s.a.EVENT_SLIDER_CHANGE,function(t,n){e.activeQuarters=a.set(n.map(function(t){return t.timeNode})).values().sort()})},t.prototype.prepareData=function(t,e){var n,r=this;return n=r.aggregatedSankeyActive?r.field.includes("source")?t.filter(function(t){if(void 0!==t.sourceTag)return t.sourceTag.includes(e)}):t.filter(function(t){if(void 0!==t.targetTag)return t.targetTag.includes(e)}):t.filter(function(t){return t[r.field]===e}),a.nest().key(function(t){return t.timeNode}).rollup(function(t){return a.sum(t,function(t){return t.valueNode})}).entries(n)},t.prototype.drawBarChart=function(t,e,r,o,i){var s=this,c=this,d=a.scale.ordinal().rangeRoundBands([0,this.chartWidth],.05),h=a.scale.linear().range([f,0]),p=r+o/2-f/2;d.domain(i),h.domain([0,a.max(t,function(t){return t.values})]);var v=this.$node.append("g");v.append("rect").attr("x",0).attr("y",r).attr("width",this.chartWidth).attr("height",o).attr("fill","white"),v.on("mouseenter",function(e){var v=c.$node.append("g").classed("overlay",!0).on("mouseleave",function(t){a.selectAll("svg.barchart g.overlay").remove()}),g=Math.min(p-4-13,r),y=Math.max(p+f+13+3,r+o);v.html("\n      <rect x='0' y='"+g+"' width='"+c.chartWidth+"' height='"+(y-g)+"' fill=\"white\" />\n      <text id='flowtotals' x='2' y='"+(p-4)+"' style='text-anchor: start'>"+s.generateFlowTotalsText(t,i)+"</text>\n\n      <text x='"+s.chartWidth/2+"' y='"+(p+f+13)+"' style='text-anchor: middle'>time</text>\n      <text x='2' y='"+(p+f+13)+"' style='text-anchor: start'>"+u.a.format(i[0])+"</text>\n      <text x='"+(s.chartWidth-2)+"' y='"+(p+f+13)+"' style='text-anchor: end'>"+u.a.format(i[i.length-1])+"</text>\n      "),n.i(l.e)(a.select("text#flowtotals"),s.chartWidth,2),v.selectAll(".barbg").data(i).enter().append("rect").classed("barbg",!0).attr("x",function(t,e){return d(t)}).attr("width",d.rangeBand()+1).attr("y",p).attr("height",f).on("mouseover",function(e){var r=t.find(function(t,n){return t.key===e}),o=r?r.values:0;a.select("text#flowtotals").text("Total flows in "+u.a.format(e)+": "+(n.i(l.c)(o)+c.valuePostFix))}).on("mouseout",function(e){var r=a.select("text#flowtotals");r.text(c.generateFlowTotalsText(t,i)),n.i(l.e)(r,s.chartWidth,2)}),v.selectAll(".bar").data(t).enter().append("rect").classed("bar",!0).classed("active",function(t,e){return c.activeQuarters.indexOf(t.key)>=0}).attr("x",function(t,e){return d(t.key)}).attr("width",d.rangeBand()).attr("y",function(t){return h(t.values)+p}).attr("height",function(t){return f-h(t.values)}).on("mouseover",function(t){a.select("text#flowtotals").text("Total flows in "+u.a.format(t.key)+": "+(n.i(l.c)(t.values)+c.valuePostFix))}).on("mouseout",function(e){var r=a.select("text#flowtotals");r.text(c.generateFlowTotalsText(t,i)),n.i(l.e)(r,s.chartWidth,2)})}),v.selectAll("bar").data(t).enter().append("rect").classed("bar",!0).classed("active",function(t,e){return c.activeQuarters.indexOf(t.key)>=0}).attr("x",function(t,e){return d(t.key)}).attr("width",d.rangeBand()).attr("y",function(t){return h(t.values)+p}).attr("height",function(t){return f-h(t.values)})},t.prototype.generateFlowTotalsText=function(t,e){var r=this,o=t.filter(function(t,e){return r.activeQuarters.indexOf(t.key)>=0}).map(function(t){return t.values}).reduce(function(t,e){return t+e});return"Total flows in "+u.a.formatMultiple(this.activeQuarters,e)+": "+n.i(l.c)(o)+this.valuePostFix},t}();e.default=p},36:function(t,e,n){"use strict";function r(t,e){return new f(t,e)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(8),a=(n.n(o),n(53));e.create=r;var i="interaction-logs",s=o.time.format("%Y-%m-%d %H:%M:%S.%L"),l=";",c="\n",u=5e5,f=function(){function t(t,e){this.options=e,this.parentDOM=e.parentDOM}return t.prototype.init=function(){return this.$node=o.select(this.parentDOM).append("button").attr("type","button").attr("id","submitLog").attr("class","btn btn-default btn-sm").style("margin-top","10px").style("display","block").text("Submit Log"),this.attachListener(),Promise.resolve(this)},t.prototype.attachListener=function(){this.$node.on("click",function(e){console.log("submit log");var r="log-"+n.i(a.a)(6)+".txt",o=localStorage.getItem(i);null===o?bootbox.alert("No log records available yet."):(n.i(a.b)(o,r,"text/plain"),t.trimLogFile())})},t.log=function(e,n){var r=s(new Date)+l+e+l+JSON.stringify(n);console.log("log preview: "+r),t.appendInStorage(r)},t.appendInStorage=function(t){var e=localStorage.getItem(i);e=null===e?t:e+c+t,localStorage.setItem(i,e)},t.trimLogFile=function(){var t=localStorage.getItem(i);if(null!==t&&t.length>u){var e=t.indexOf(c,t.length-u);t=t.slice(e),localStorage.setItem(i,t)}},t}();e.default=f},38:function(t,e,n){"use strict";function r(t,e,n){u.entityTagFilterRef=t,u.mediaTagFilterRef=e,u.currentData=n}function o(t,e){return new u(t,e)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(56),i=(n.n(a),n(8)),s=(n.n(i),n(53)),l=n(55),c=n(36);e.setTagFilterRefs=r,e.create=o;var u=function(){function t(t,e){this.options=e,this.exportAll=!0,this.parentDOM=e.parentDOM}return t.prototype.init=function(){return this.btnExportFlowData=i.select("#exportData"),this.checkBoxExport=i.select("#exportCheckbox"),this.attachListener(),Promise.resolve(this)},t.prototype.attachListener=function(){var e=this;this.btnExportFlowData.on("click",function(r){c.default.log("export flows clicked","");var o=JSON.parse(localStorage.getItem("columnLabels"));if(null==o&&(o=n.i(s.d)(o)),e.exportAll=!e.checkBoxExport.property("checked"),e.exportAll){var u=localStorage.getItem("fileName");""!==u&&null!==u||(u="No File Name.csv");var f=t.currentData;f.unshift(o),e.exportCSVFile(f,u.slice(0,-4))}else{var d=[[]];d=[[o.sourceNode,o.sourceTag,o.targetNode,o.targetTag,o.valueNode]],i.selectAll("#sankeyDiagram path.link").each(function(e,n){var r=t.entityTagFilterRef.getTagsByName(t.currentData,e.source.name).values().join("|"),o=t.mediaTagFilterRef.getTagsByName(t.currentData,e.target.name).values().join("|");d.push([e.source.name,r,e.target.name,o,e.value])});var h=[];i.select("#timeInfoHeader").selectAll("span").each(function(t,e){h.push(i.select(this).text())});var p=[];i.select("#attribute1").selectAll("span").each(function(t,e){p.push(i.select(this).text())}),p=p.filter(Boolean),d.unshift(["Timerange: "+h.join("|"),"Attribute: "+p.join("|")]);var v=i.csv.format(d),g="flows_"+(new Date).toLocaleString()+".csv";1===d.length?a.alert({className:"dialogBox",title:"Warning",message:l.a}):a.confirm({className:"dialogBox",title:"Information",message:l.b,callback:function(t){t&&n.i(s.b)(v,g,"text/csv")}})}})},t.prototype.convertToCSV=function(t){for(var e="object"!=typeof t?JSON.parse(t):t,n="",r=0;r<e.length;r++){var o="";for(var a in e[r])e[r].hasOwnProperty(a)&&(""!==o&&(o+=";"),o+=e[r][a]);n+=o+"\r\n"}return n},t.prototype.exportCSVFile=function(t,e){var n=JSON.stringify(t),r=this.convertToCSV(n),o=e+".csv"||"Exported_Data.csv",a=new Blob([r],{type:"text/csv;charset=utf-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(a,o);else{var i=document.createElement("a");if(void 0!==i.download){var s=URL.createObjectURL(a);i.setAttribute("href",s),i.setAttribute("download",o),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}}},t.exportSingleFlowOverTime=function(t,e){var r=JSON.parse(localStorage.getItem("columnLabels"));null==r&&(r={},r.timeNode="time",r.valueNode="value");var o=[[r.timeNode,r.valueNode]];console.log("selector: ",t),i.selectAll(t).each(function(t,e){console.log("d: ",t),o.push([t.timeNode,t.valueNode])});var c=i.tsv.format(o);e.length>0&&(c="# "+e+"\n"+c);var u="timeseries "+(new Date).toLocaleString()+".tsv";1===o.length?a.alert("No time steps are visible."):a.confirm({className:"dialogBox",title:"Information",message:l.c,callback:function(t){t&&n.i(s.b)(c,u,"text/csv")}})},t}();e.default=u},39:function(t,e,n){"use strict";function r(t,e){return p.getInstance(t,e)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(11),a=n(8),i=(n.n(a),n(12)),s=n(53),l=n(36);e.create=r;var c=12,u=8,f=10,d=["flow","source","target"],h=["descending","ascending"],p=function(){function t(t,e){this.options=e,this.sortType=d[0],this.orderType=h[0],this.showExtent=1,this.canShowMore=!0,this.messages=["unset","unset"],this.parentDOM=e.sortBySelector,this.parentDOM2=e.orderBySelector}return t.prototype.init=function(){this.$node=a.select(this.parentDOM).append("select").attr("class","form-control input-sm").attr("id","sortDropdown").style("display","block"),this.$node2=a.select(this.parentDOM2).append("select").attr("class","form-control input-sm").attr("id","orderDropdown").style("display","block");for(var t=0,e=d;t<e.length;t++){var n=e[t];this.$node.append("option").attr("value",n).attr("selected",this.sortType===n?"selected":null).text(n)}for(var r=0,o=h;r<o.length;r++){var i=o[r];this.$node2.append("option").attr("value",i).attr("selected",this.orderType===i?"selected":null).text(i)}return this.attachListener(),Promise.resolve(this)},t.prototype.showMore=function(){this.showExtent++,l.default.log("show more; "+this.sortType+"; "+this.orderType+"; ",this.showExtent)},t.prototype.showLess=function(){this.showExtent=Math.max(1,this.showExtent-1),l.default.log("show less; "+this.sortType+"; "+this.orderType+";",this.showExtent)},t.prototype.hasShowLess=function(){return this.showExtent>1},t.prototype.hasShowMore=function(){return this.canShowMore},t.prototype.getExtent=function(){return this.showExtent},t.prototype.getMessage=function(t){return this.messages[t]},t.prototype.topFlows=function(t,e){var n=this.orderType===h[0];return this.sortType===d[0]?this.flowOrder(t,e,n):this.sortType===d[1]?this.nodeOrder(t,e,!0,n):this.sortType===d[2]?this.nodeOrder(t,e,!1,n):void 0},t.prototype.flowOrder=function(t,e,r){var o=this,i=Math.min(t.length,this.showExtent*c),l=t.sort(function(t,e){return r?a.descending(t.value,e.value):a.ascending(t.value,e.value)}).slice(0,i),u=[];return new Set(l.map(function(t){return t.source})).forEach(function(e){var n=o.sumValues(l,e,!0),r=o.sumValues(t,e,!0);u.push({name:e,overall:r,fraction:n/r})}),new Set(l.map(function(t){return t.target})).forEach(function(e){var n=o.sumValues(l,e,!1),r=o.sumValues(t,e,!1);u.push({name:e,overall:r,fraction:n/r})}),this.canShowMore=i<t.length,this.messages[0]=i<t.length?"Flows "+(r?"≤":"≥")+" "+n.i(s.c)(t[i].value)+e+" are not displayed.":"All flows are displayed.",this.messages[1]=i+"/"+t.length+" flows displayed",this.graphFromNodeFlows(u,l)},t.prototype.nodeOrder=function(t,e,r,o){var i=this,l=a.nest().key(function(t){return r?t.source:t.target}).rollup(function(t){return a.sum(t,function(t){return t.value})}).entries(t).sort(function(t,e){return o?a.descending(t.values,e.values):a.ascending(t.values,e.values)}),c=a.set(t.map(function(t){return r?t.target:t.source})).size(),d=r?"source":"target";console.log("node count "+d+": "+l.length+" other: "+c);var h=Math.min(l.length,this.showExtent*u),p=Math.min(c,h*c/l.length,this.showExtent*f);console.log("node show "+d+": "+h+" other: "+p);for(var v=[],g=[],y=new Set,m=function(e){var n=t.filter(function(t){return e.key===(r?t.source:t.target)}),o=n.reduce(function(t,e){return e.value>t.value?e:t});y.add(r?o.target:o.source),v.push(o),g.push.apply(g,n.filter(function(t){return t!==o}))},b=0,w=l.slice(0,h);b<w.length;b++){var x=w[b];m(x)}for(g.sort(function(t,e){return a.ascending(t.value,e.value)});y.size<p&&g.length>0;){var k=g.pop();v.push(k),y.add(r?k.target:k.source)}v.push.apply(v,g.filter(function(t){return y.has(r?t.target:t.source)}));for(var E=[],C=0,N=l.slice(0,h);C<N.length;C++){var x=N[C],S=this.sumValues(v,x.key,r);E.push({name:x.key,overall:x.values,fraction:S/x.values})}if(y.forEach(function(e){var n=i.sumValues(v,e,!r),o=i.sumValues(t,e,!r);E.push({name:e,overall:o,fraction:n/o})}),this.canShowMore=h<l.length||p<c,this.messages[0]=h<l.length?d+" nodes of total flow "+(o?"≤":"≥")+" "+n.i(s.c)(l[h].values)+e+" are not displayed.":"All "+d+" nodes are displayed.",this.messages[1]=h+"/"+l.length+" "+d+" nodes shown",h===l.length&&p<c){var O=r?"target":"source";this.messages[1]+=" ("+p+"/"+c+" "+O+" nodes shown)"}return this.graphFromNodeFlows(E,v)},t.prototype.sumValues=function(t,e,n){return t.filter(function(t){return e===(n?t.source:t.target)}).map(function(t){return t.value}).reduce(function(t,e){return t+e})},t.prototype.graphFromNodeFlows=function(t,e){var n=t.map(function(t){return t.name}),r=[];return e.forEach(function(t,e){r.push({source:n.indexOf(t.source),target:n.indexOf(t.target),value:t.value,time:t.time})}),{nodes:t,links:r}},t.prototype.attachListener=function(){var t=this;this.$node.on("change",function(e){var n=this;t.sortType=n.options[n.selectedIndex].value,l.default.log("set sort flows by",t.sortType),o.a(i.a.EVENT_SORT_CHANGE,e)}),this.$node2.on("change",function(e){var n=this;t.orderType=n.options[n.selectedIndex].value,l.default.log("set sort order ",t.orderType),o.a(i.a.EVENT_SORT_CHANGE,e)})},t.getInstance=function(e,n){return null!==t.instance&&void 0!==t.instance||(t.instance=new t(e,n)),t.instance},t}();e.default=p},48:function(t,e,n){"use strict";function r(t,e){return new d(t,e)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(11),a=n(8),i=(n.n(a),n(66)),s=(n.n(i),n(12)),l=n(53),c=n(61),u=n(36),f=n(38);e.create=r;var d=function(){function t(t,e){this.options=e,this.clicked=0,this.drawSvg=0,this.drawBarChart=0,this.$node=a.select(t)}return t.prototype.init=function(){return this.attachListener(),this.drag=a.behavior.drag().on("drag",function(t,e){a.select(this).attr("transform",function(t,e){return"translate("+(this.getBoundingClientRect().x+a.event.dx)+","+(this.getBoundingClientRect().y+a.event.dy)+")"})}),this.drag2=a.behavior.drag().on("drag",function(t,e){a.select(this).attr("transform",function(t,e){return"translate("+(this.getBoundingClientRect().x+a.event.dx)+","+(this.getBoundingClientRect().y+a.event.dy-200)+")"})}),Promise.resolve(this)},t.prototype.attachListener=function(){var t=this;o.b(s.a.EVENT_CLICKED_PATH,function(e,n,r,o){t.clicked<=1?(u.default.log("flow detail clicked",[n.source.name,n.target.name]),t.drawDetails(n,r,o),++t.clicked):(u.default.log("flow detail clicked -> too many",[n.source.name,n.target.name]),t.closeDetail(),t.clicked=0)}),o.b(s.a.EVENT_CLOSE_DETAIL_SANKEY,function(e,n){u.default.log("flow detail close",""),t.closeDetail(),t.clicked=0})},t.prototype.closeDetail=function(){this.$node.select("svg.sankey_details").remove(),this.$node.select("svg.sankey_details2").remove()},t.prototype.drawDetails=function(t,e,r){var i={top:50,right:60,bottom:60,left:60},d=400-i.left-i.right,h=200-i.top-i.bottom,p=t.source.name,v=t.target.name,g=t.target.value,y=JSON.parse(localStorage.getItem("columnLabels")),m=null==y?"":" "+y.valueNode,b=this.$node.append("div").attr("class","tooltip").style("opacity",0).style("z-index","200000"),w=(a.select(".sankey_vis").node().getBoundingClientRect().width,a.select(".sankey_vis").node().getBoundingClientRect().height,window.innerWidth),x=(window.innerHeight,w/2-d/2),k=r[1]+h,E=k+10;if(0===this.drawSvg){this.$node.append("svg").attr("class","sankey_details draggable").attr("transform","translate("+x+","+E+")").attr("width",d+i.left+i.right+"px").attr("height",h+i.top+i.bottom+"px").style("z-index","10000"),this.$node.select("svg.sankey_details").append("g").attr("class","headingDetailSankey").style("z-index","10001"),this.$node.select("svg.sankey_details").select("g.headingDetailSankey").append("text").attr("x",5).attr("y",16).style("font-size","11px").text(function(t){return p+" → "+v+" "+n.i(l.c)(g)+m});var C=d+i.left+i.right-50,N=this.$node.select(".sankey_details").select(".headingDetailSankey").selectAll("text");n.i(l.e)(N,C,5,5),this.toolbox=a.select("svg.sankey_details").append("g").attr("class","toolbox").attr("transform","translate(5,12)"),this.toolbox.append("text").attr("font-family","FontAwesome").text(function(t){return" "}).style("z-index","200000").attr("x","354").attr("y","10").attr("class","addNotes").on("mouseover",function(t){b.transition().duration(200).style("opacity",.9),b.html("Add Notes to this particular flow!").style("left",a.event.pageX-40+"px").style("top",a.event.pageY-20+"px")}).on("mouseout",function(t){b.transition().duration(500).style("opacity",0)}).on("click",function(t){alert("Save NOTES in a feature version!!")}),this.toolbox.append("text").attr("font-family","FontAwesome").text(function(t){return" "}).style("z-index","200000").attr("x","336").attr("y","10").attr("class","export").on("mouseover",function(t){b.transition().duration(200).style("opacity",.9),b.html("Export time series as a CSV file.").style("left",a.event.pageX-40+"px").style("top",a.event.pageY-20+"px")}).on("mouseout",function(t){b.transition().duration(500).style("opacity",0)}).on("click",function(t){var e=a.selectAll("svg.sankey_details g.headingDetailSankey").text();u.default.log("export time series",e),f.default.exportSingleFlowOverTime("svg.sankey_details rect.bar",e);var n=a.event;n.preventDefault(),n.stopPropagation()}),a.select(".sankey_details").call(this.drag),++this.drawSvg}else{this.$node.append("svg").attr("class","sankey_details2 draggable").attr("transform","translate("+x+","+(h+E)+")").attr("width",d+i.left+i.right+"px").attr("height",h+i.top+i.bottom+"px").style("z-index","10000"),this.$node.select("svg.sankey_details2").append("g").attr("class","headingDetailSankey2").style("z-index","10001"),this.$node.select("svg.sankey_details2").select("g.headingDetailSankey2").append("text").attr("x",5).attr("y",16).style("font-size","11px").text(function(t){return p+" → "+v+" "+n.i(l.c)(g)+m});var C=d+i.left+i.right-50,N=this.$node.select(".sankey_details2").selectAll("text");n.i(l.e)(N,C,5,5),this.toolbox2=a.select("svg.sankey_details2").append("g").attr("class","toolbox2").attr("transform","translate(5,12)"),this.toolbox2.append("text").attr("font-family","FontAwesome").text(function(t){return" "}).style("z-index","200000").attr("x","354").attr("y","10").attr("class","addNotes").on("mouseover",function(t){b.transition().duration(200).style("opacity",.9),b.html("Add Notes to this particular flow!").style("left",a.event.pageX-40+"px").style("top",a.event.pageY-20+"px")}).on("mouseout",function(t){b.transition().duration(500).style("opacity",0)}).on("click",function(t){alert("Save NOTES in a feature version!!")}),this.toolbox2.append("text").attr("font-family","FontAwesome").text(function(t){return" "}).style("z-index","200000").attr("x","336").attr("y","10").attr("class","export").on("mouseover",function(t){b.transition().duration(200).style("opacity",.9),b.html("Export time series as a CSV file.").style("left",a.event.pageX-40+"px").style("top",a.event.pageY-20+"px")}).on("mouseout",function(t){b.transition().duration(500).style("opacity",0)}).on("click",function(t){var e=a.selectAll("svg.sankey_details2 g.headingDetailSankey2").text();u.default.log("export time series",e),f.default.exportSingleFlowOverTime("svg.sankey_details2 rect.bar",e)}),a.select(".sankey_details2").call(this.drag2),this.drawSvg=0}var S=e.filter(function(t){return t.sourceNode===p&&t.targetNode===v||t.sourceTag===p&&t.targetTag===v}),O={};for(var _ in S)S.hasOwnProperty(_)&&(O[S[_].timeNode]=S[_]);var A=[];for(var I in O)O.hasOwnProperty(I)&&A.push({timeNode:+O[I].timeNode,valueNode:+O[I].valueNode});var F=a.scale.ordinal().rangeBands([0,d],.2),L=a.scale.linear().range([h,0]),T=a.set(e.map(function(t){return t.timeNode})).values().sort();F.domain(T),L.domain([0,a.max(A,function(t){return t.valueNode})]),0===this.drawBarChart?(this.detailSVG=a.select("svg.sankey_details").append("g").attr("class","bars").attr("transform","translate("+(i.left+10)+","+i.top+")"),++this.drawBarChart):(this.detailSVG=a.select("svg.sankey_details2").append("g").attr("class","bars").attr("transform","translate("+(i.left+10)+","+i.top+")"),this.drawBarChart=0),this.detailSVG.append("text").attr("class","yaxisunit").attr("x","-10").attr("y","-6").style("text-anchor","end").text(m),this.detailSVG.selectAll(".bar").data(A).enter().append("rect").attr("class","bar").attr("x",function(t,e){return F(t.timeNode)}).attr("width",F.rangeBand()).attr("y",function(t){return L(t.valueNode)}).attr("height",function(t){return L(0)-L(t.valueNode)}).on("mouseover",function(t){b.transition().duration(200).style("opacity",.9),b.html(n.i(l.c)(t.valueNode)).style("left",a.event.pageX-40+"px").style("top",a.event.pageY-20+"px")}).on("mouseout",function(t){b.transition().duration(500).style("opacity",0)});var D=a.svg.axis().scale(F).tickFormat(c.a.format).orient("bottom"),R=a.svg.axis().scale(L).orient("left");this.detailSVG.append("g").attr("class","x axis").attr("transform","translate(0,"+h+")").call(D).selectAll(".tick").selectAll("text").attr("y",0).attr("x",9).attr("dy",".35em").attr("transform","rotate(90)").style("text-anchor","start").style("font-size","9px");var B=a.format(",");this.detailSVG.append("g").attr("class","y axis").call(R.ticks(4).tickFormat(function(t){return B(t).replace(",",".")})),this.detailSVG.append("g").attr("class","closeLink").append("text").attr("font-family","FontAwesome").text(function(t){return" "}).style("z-index","200000").attr("font-size","15px").attr("x","310").attr("y","-28").on("click",function(t){o.a(s.a.EVENT_CLOSE_DETAIL_SANKEY,t)})},t}()},51:function(t,e,n){"use strict";function r(t,e){return new h(t,e)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(11),a=n(8),i=(n.n(a),n(54)),s=(n.n(i),n(3)),l=(n.n(s),n(56)),c=(n.n(l),n(12)),u=n(36),f=n(61),d=n(55);e.create=r;var h=function(){function t(t,e){this.options=e,this.$node=a.select("#validHeader")}return t.prototype.init=function(){return this.build(),this.attachListener(),this.shrinkHeader(),Promise.resolve(this)},t.prototype.build=function(){var t=localStorage.getItem("fileName");""!==t&&null!==t||(t="No File Name"),this.$node.html("\n    \x3c!--<div class='logo'>NETFLOWER</div>--\x3e\n    <div class='netflowerLogo'></div>\n    <div class='btn_preupload'>\n    <span id='backBtn'><i class='fa fa-folder-open-o fa-2x'></i>\n     <span id='textBackBtn'>"+t.replace(".csv","")+"</span>\n    </span>\n    </div>\n    <div class='timeInfoBox invisibleClass'><div style='font-size: 0.9em;'>Viewing Timestamps: </div>\n      <div id='timeInfoHeader'></div>\n    </div>\n    <div id='socialMedia'>\n        <p><a href='imprint.html'\n          target='blank' title='Legal Disclosure'><i class='fa fa-info fa-2x web'></i></a></p>\n        \x3c!--<p><a href='https://twitter.com/valid_at' --\x3e\n          \x3c!--target='blank' title='Twitter'><i class='fa fa-twitter-square fa-2x web'></i></a> </p>--\x3e\n        \x3c!--<p><a href='https://github.com/VALIDproject' --\x3e\n          \x3c!--target='blank' title='Github Code'> <i class='fa fa-github fa-2x web'></i></a> </p>--\x3e\n        \x3c!--<p><a href='http://www.validproject.at/' --\x3e\n          \x3c!--target='blank' title='Project Website'><i class='fa fa-globe fa-2x web'></i></a></p>--\x3e\n        <p><a href='index.html' \n          target='blank' title='Home'><i class='fa fa-home fa-2x web'></i></a></p>\n    </div>\n    \x3c!--<div class='valid_logo'></div>--\x3e\n    ")},t.prototype.attachListener=function(){this.$node.select("#backBtn").on("click",function(t){u.default.log("reupload data clicked",""),l.confirm({className:"dialogBox",title:"Information",message:""+d.m,callback:function(t){if(!t)return void u.default.log("reupload data aborted","");u.default.log("reupload data confirmed",""),localStorage.removeItem("dataLoaded"),localStorage.removeItem("columnLabels"),u.default.trimLogFile(),i.clear(),a.select(".dataVizView").selectAll("*").remove(),location.reload(!0)}});var e=a.event;e.preventDefault(),e.stopPropagation()}),o.b(c.a.EVENT_TIME_VALUES,function(t,e){a.select("#timeInfoHeader").selectAll("*").remove(),a.select("#timeInfoHeader").selectAll("span").data(e).enter().append("span").text(function(t){return f.a.format(t)}).attr("class","label label-primary").attr("style","margin-left: 5px;")})},t.prototype.shrinkHeader=function(){s(document).on("scroll",function(){s(document).scrollTop()>100?(s(".netflowerLogo").addClass("shrink"),s("#validHeader").addClass("shrink"),s("#socialMedia").addClass("shrink"),s(".valid_logo").addClass("shrink"),s(".timeInfoBox").removeClass("invisibleClass"),s(".btn_preupload i").removeClass("fa fa-folder-open-o fa-2x"),s(".btn_preupload i").addClass("fa fa-folder-open-o"),s(".btn_preupload").attr("style","margin-top: 3px;"),s("#textBackBtn").attr("style","margin-top: 0px;")):(s(".netflowerLogo").removeClass("shrink"),s("#validHeader").removeClass("shrink"),s("#socialMedia").removeClass("shrink"),s(".valid_logo").removeClass("shrink"),s(".timeInfoBox").addClass("invisibleClass"),s(".btn_preupload i").removeClass("fa fa-folder-open-o"),s(".btn_preupload i").addClass("fa fa-folder-open-o fa-2x"),s(".btn_preupload").attr("style","margin-top: 12px;"),s("#textBackBtn").attr("style","margin-top: 6px;"))})},t}()},53:function(t,e,n){"use strict";function r(t,e,n,r){void 0===n&&(n=5),void 0===r&&(r=5),r-=2;var o=e;e-=2*n;var a=[];return t.each(function(){var t,i,s=f.select(this),l=s.text().split(/[ \f\n\r\t\v]+/).reverse(),c=1.1,u=s.style("text-anchor")||"start",d=[],h=0,p=s.attr("y"),v=parseFloat(s.attr("dy")),g=1;if(isNaN(v)&&(v=0),f.select(s.node().parentNode).classed("tick"))switch(u){case"start":i=-e/2;break;case"middle":i=0;break;case"end":i=e/2}else switch(u){case"start":i=n;break;case"middle":i=o/2;break;case"end":i=o-n}p=+(null===p?r:p);for(var y=s.text(null).append("tspan").attr("x",i).attr("y",p).attr("dy",v+"em");t=l.pop();)d.push(t),y.text(d.join(" ")),y.node().getComputedTextLength()>e&&d.length>1&&(d.pop(),y.text(d.join(" ")),d=[t],y=s.append("tspan").attr("x",i).attr("y",p).attr("dy",++h*c+v+"em").text(t),++g);a.push(g)}),a}function o(t,e,n){var r=document.createElement("a"),o=new Blob([t],{type:n});r.href=URL.createObjectURL(o),r.download=e,r.click()}function a(t){return Math.round(Math.pow(36,t+1)-Math.random()*Math.pow(36,t)).toString(36).slice(1)}function i(t,e,n){t.transition().duration(n).style("opacity",0).transition().duration(n).style("opacity",1).text(e)}function s(t,e){t.each(function(){for(var t=f.select(this),n=t.text().split(/\s+/),r=t.text("").append("tspan").attr("class","elip").text("..."),o=n.length,a=t.insert("tspan",":first-child").text(n.join(" "));a.node().getComputedTextLength()>e&&n.length>1;)n.pop(),a.text(n.join(" "));if(1===n.length)for(var i=n[0].length;a.node().getComputedTextLength()>e&&i>1;)i--,a.text(n[0].slice(0,i));n.length===o&&r.remove()})}function l(t,e){for(var n=t,r=function(t){var n=t.sourceNode.toLowerCase(),r=t.targetNode.toLowerCase();e.forEach(function(e){var o=e.key.toLowerCase();n===o&&(t.sourceTag=e.values),r===o&&(t.targetTag=e.values)})},o=0,a=n;o<a.length;o++){r(a[o])}d.setItem("data",n).then(function(t){return d.getItem("data")})}function c(t,e){var n=t.sourceLinks.length<=0?"from":"to",r=t.name+"\n    <br />\n    <table class='node'>\n      <tr><td>\n        <svg width='8' height='8'>\n          <rect width='8' height='8' fill='#DA5A6B' />\n        </svg>\n        "+(p(t.value)+e)+"\n      </td><td> "+n+" displayed elements.</td></tr>\n    ",o=t.overall-t.value>1e-5?"\n    <tr><td>\n      <svg width='8' height='8'>\n        <defs>\n          <pattern id='diagonalHatch2' patternUnits='userSpaceOnUse' width='4' height='4'>\n            <rect width='4' height='4' fill='#DA5A6B' />\n            <path d='M-1,1 l2,-2 M0,4 l4,-4 M3,5 l2,-2' stroke='#ffffff' 'stroke-width='1' />\n          </pattern>\n        </defs>\n      <rect width='8' height='8' fill='url(#diagonalHatch2)' />\n      </svg>\n    "+(p(t.overall-t.value)+e)+"</td><td>are not displayed.</td></tr>\n    <tr><td>"+(p(t.overall)+e)+"</td><td>in total.</td></tr>\n    ":"";v.mouseOver(t,r+o+"</table>","T2")}function u(t){return t={},t.sourceNode="source",t.targetNode="target",t.timeNode="time",t.valueNode="value",t.sourceTag="sourceHash",t.targetTag="targetHash",t.attribute1="attribute 1",t}var f=n(8),d=(n.n(f),n(54));n.n(d);e.e=r,n.d(e,"c",function(){return p}),e.b=o,e.a=a,e.f=i,e.i=s,e.j=l,n.d(e,"g",function(){return v}),e.h=c,e.d=u;var h=f.format(",.0f"),p=function(t){return h(t).replace(/,/g,".")},v=function(){function t(){}return t.mouseOver=function(e,n,r){if("T1"===r)t.tooltip1.transition().duration(200).style("opacity",.9),t.tooltip1.html(n).style("left",f.event.pageX-20+"px").style("top",f.event.pageY-140+"px");else{var o=f.event.pageX,a=document.documentElement.clientWidth;o+200>a?o=a-200:o-=20,t.tooltip2.transition().duration(200).style("opacity",.9),t.tooltip2.html(n).style("left",o+"px").style("top",f.event.pageY+"px")}},t.mouseOut=function(e){t.tooltip1.transition().duration(500).style("opacity",0),t.tooltip2.transition().duration(500).style("opacity",0)},t}();v.tooltip1=f.select("body").append("div").attr("class","tooltip").style("opacity",0).style("z-index","200000"),v.tooltip2=f.select("body").append("div").attr("class","tooltip2").style("opacity",0).style("z-index","200000")},54:function(t,e,n){(function(e){var n,n;!function(e){t.exports=e()}(function(){return function t(e,r,o){function a(s,l){if(!r[s]){if(!e[s]){var c="function"==typeof n&&n;if(!l&&c)return n(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var f=r[s]={exports:{}};e[s][0].call(f.exports,function(t){var n=e[s][1][t];return a(n||t)},f,f.exports,t,e,r,o)}return r[s].exports}for(var i="function"==typeof n&&n,s=0;s<o.length;s++)a(o[s]);return a}({1:[function(t,n,r){(function(t){"use strict";function e(){u=!0;for(var t,e,n=f.length;n;){for(e=f,f=[],t=-1;++t<n;)e[t]();n=f.length}u=!1}function r(t){1!==f.push(t)||u||o()}var o,a=t.MutationObserver||t.WebKitMutationObserver;if(a){var i=0,s=new a(e),l=t.document.createTextNode("");s.observe(l,{characterData:!0}),o=function(){l.data=i=++i%2}}else if(t.setImmediate||void 0===t.MessageChannel)o="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var n=t.document.createElement("script");n.onreadystatechange=function(){e(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},t.document.documentElement.appendChild(n)}:function(){setTimeout(e,0)};else{var c=new t.MessageChannel;c.port1.onmessage=e,o=function(){c.port2.postMessage(0)}}var u,f=[];n.exports=r}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,n){"use strict";function r(){}function o(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,t!==r&&l(this,t)}function a(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function i(t,e,n){p(function(){var r;try{r=e(n)}catch(e){return v.reject(t,e)}r===t?v.reject(t,new TypeError("Cannot resolve promise with itself")):v.resolve(t,r)})}function s(t){var e=t&&t.then;if(t&&"object"==typeof t&&"function"==typeof e)return function(){e.apply(t,arguments)}}function l(t,e){function n(e){a||(a=!0,v.reject(t,e))}function r(e){a||(a=!0,v.resolve(t,e))}function o(){e(r,n)}var a=!1,i=c(o);"error"===i.status&&n(i.value)}function c(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}function u(t){return t instanceof this?t:v.resolve(new this(r),t)}function f(t){var e=new this(r);return v.reject(e,t)}function d(t){function e(t,e){function r(t){i[e]=t,++s!==o||a||(a=!0,v.resolve(c,i))}n.resolve(t).then(r,function(t){a||(a=!0,v.reject(c,t))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var o=t.length,a=!1;if(!o)return this.resolve([]);for(var i=new Array(o),s=0,l=-1,c=new this(r);++l<o;)e(t[l],l);return c}function h(t){function e(t){n.resolve(t).then(function(t){a||(a=!0,v.resolve(s,t))},function(t){a||(a=!0,v.reject(s,t))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var o=t.length,a=!1;if(!o)return this.resolve([]);for(var i=-1,s=new this(r);++i<o;)e(t[i]);return s}var p=t(1),v={},g=["REJECTED"],y=["FULFILLED"],m=["PENDING"];e.exports=n=o,o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){if("function"!=typeof t&&this.state===y||"function"!=typeof e&&this.state===g)return this;var n=new this.constructor(r);if(this.state!==m){i(n,this.state===y?t:e,this.outcome)}else this.queue.push(new a(n,t,e));return n},a.prototype.callFulfilled=function(t){v.resolve(this.promise,t)},a.prototype.otherCallFulfilled=function(t){i(this.promise,this.onFulfilled,t)},a.prototype.callRejected=function(t){v.reject(this.promise,t)},a.prototype.otherCallRejected=function(t){i(this.promise,this.onRejected,t)},v.resolve=function(t,e){var n=c(s,e);if("error"===n.status)return v.reject(t,n.value);var r=n.value;if(r)l(t,r);else{t.state=y,t.outcome=e;for(var o=-1,a=t.queue.length;++o<a;)t.queue[o].callFulfilled(e)}return t},v.reject=function(t,e){t.state=g,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},n.resolve=u,n.reject=f,n.all=d,n.race=h},{1:1}],3:[function(t,n,r){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){}}function a(){try{if(!it)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(t){return!1}}function i(){return"function"==typeof openDatabase}function s(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&localStorage.setItem}catch(t){return!1}}function l(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(a){if("TypeError"!==a.name)throw a;for(var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,r=new n,o=0;o<t.length;o+=1)r.append(t[o]);return r.getBlob(e.type)}}function c(t,e){e&&t.then(function(t){e(null,t)},function(t){e(t)})}function u(t,e,n){"function"==typeof e&&t.then(e),"function"==typeof n&&t.catch(n)}function f(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),o=0;o<e;o++)r[o]=t.charCodeAt(o);return n}function d(t){return new ct(function(e){var n=t.transaction(ut,"readwrite"),r=l([""]);n.objectStore(ut).put(r,"key"),n.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},n.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)}}).catch(function(){return!1})}function h(t){return"boolean"==typeof st?ct.resolve(st):d(t).then(function(t){return st=t})}function p(t){var e=lt[t.name],n={};n.promise=new ct(function(t){n.resolve=t}),e.deferredOperations.push(n),e.dbReady?e.dbReady=e.dbReady.then(function(){return n.promise}):e.dbReady=n.promise}function v(t){var e=lt[t.name],n=e.deferredOperations.pop();n&&n.resolve()}function g(t,e){return new ct(function(n,r){if(t.db){if(!e)return n(t.db);p(t),t.db.close()}var o=[t.name];e&&o.push(t.version);var a=it.open.apply(it,o);e&&(a.onupgradeneeded=function(e){var n=a.result;try{n.createObjectStore(t.storeName),e.oldVersion<=1&&n.createObjectStore(ut)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),a.onerror=function(t){t.preventDefault(),r(a.error)},a.onsuccess=function(){n(a.result),v(t)}})}function y(t){return g(t,!1)}function m(t){return g(t,!0)}function b(t,e){if(!t.db)return!0;var n=!t.db.objectStoreNames.contains(t.storeName),r=t.version<t.db.version,o=t.version>t.db.version;if(r&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),o||n){if(n){var a=t.db.version+1;a>t.version&&(t.version=a)}return!0}return!1}function w(t){return new ct(function(e,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){var r=btoa(n.target.result||"");e({__local_forage_encoded_blob:!0,data:r,type:t.type})},r.readAsBinaryString(t)})}function x(t){return l([f(atob(t.data))],{type:t.type})}function k(t){return t&&t.__local_forage_encoded_blob}function E(t){var e=this,n=e._initReady().then(function(){var t=lt[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady});return u(n,t,t),n}function C(t){function e(){return ct.resolve()}var n=this,r={db:null};if(t)for(var o in t)r[o]=t[o];lt||(lt={});var a=lt[r.name];a||(a={forages:[],db:null,dbReady:null,deferredOperations:[]},lt[r.name]=a),a.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=E);for(var i=[],s=0;s<a.forages.length;s++){var l=a.forages[s];l!==n&&i.push(l._initReady().catch(e))}var c=a.forages.slice(0);return ct.all(i).then(function(){return r.db=a.db,y(r)}).then(function(t){return r.db=t,b(r,n._defaultConfig.version)?m(r):t}).then(function(t){r.db=a.db=t,n._dbInfo=r;for(var e=0;e<c.length;e++){var o=c[e];o!==n&&(o._dbInfo.db=r.db,o._dbInfo.version=r.version)}})}function N(t,e){var n=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=new ct(function(e,r){n.ready().then(function(){var o=n._dbInfo,a=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName),i=a.get(t);i.onsuccess=function(){var t=i.result;void 0===t&&(t=null),k(t)&&(t=x(t)),e(t)},i.onerror=function(){r(i.error)}}).catch(r)});return c(r,e),r}function S(t,e){var n=this,r=new ct(function(e,r){n.ready().then(function(){var o=n._dbInfo,a=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName),i=a.openCursor(),s=1;i.onsuccess=function(){var n=i.result;if(n){var r=n.value;k(r)&&(r=x(r));var o=t(r,n.key,s++);void 0!==o?e(o):n.continue()}else e()},i.onerror=function(){r(i.error)}}).catch(r)});return c(r,e),r}function O(t,e,n){var r=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var o=new ct(function(n,o){var a;r.ready().then(function(){return a=r._dbInfo,"[object Blob]"===ft.call(e)?h(a.db).then(function(t){return t?e:w(e)}):e}).then(function(e){var r=a.db.transaction(a.storeName,"readwrite"),i=r.objectStore(a.storeName),s=i.put(e,t);null===e&&(e=void 0),r.oncomplete=function(){void 0===e&&(e=null),n(e)},r.onabort=r.onerror=function(){var t=s.error?s.error:s.transaction.error;o(t)}}).catch(o)});return c(o,n),o}function _(t,e){var n=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=new ct(function(e,r){n.ready().then(function(){var o=n._dbInfo,a=o.db.transaction(o.storeName,"readwrite"),i=a.objectStore(o.storeName),s=i.delete(t);a.oncomplete=function(){e()},a.onerror=function(){r(s.error)},a.onabort=function(){var t=s.error?s.error:s.transaction.error;r(t)}}).catch(r)});return c(r,e),r}function A(t){var e=this,n=new ct(function(t,n){e.ready().then(function(){var r=e._dbInfo,o=r.db.transaction(r.storeName,"readwrite"),a=o.objectStore(r.storeName),i=a.clear();o.oncomplete=function(){t()},o.onabort=o.onerror=function(){var t=i.error?i.error:i.transaction.error;n(t)}}).catch(n)});return c(n,t),n}function I(t){var e=this,n=new ct(function(t,n){e.ready().then(function(){var r=e._dbInfo,o=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName),a=o.count();a.onsuccess=function(){t(a.result)},a.onerror=function(){n(a.error)}}).catch(n)});return c(n,t),n}function F(t,e){var n=this,r=new ct(function(e,r){if(t<0)return void e(null);n.ready().then(function(){var o=n._dbInfo,a=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName),i=!1,s=a.openCursor();s.onsuccess=function(){var n=s.result;if(!n)return void e(null);0===t?e(n.key):i?e(n.key):(i=!0,n.advance(t))},s.onerror=function(){r(s.error)}}).catch(r)});return c(r,e),r}function L(t){var e=this,n=new ct(function(t,n){e.ready().then(function(){var r=e._dbInfo,o=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName),a=o.openCursor(),i=[];a.onsuccess=function(){var e=a.result;if(!e)return void t(i);i.push(e.key),e.continue()},a.onerror=function(){n(a.error)}}).catch(n)});return c(n,t),n}function T(t){var e,n,r,o,a,i=.75*t.length,s=t.length,l=0;"="===t[t.length-1]&&(i--,"="===t[t.length-2]&&i--);var c=new ArrayBuffer(i),u=new Uint8Array(c);for(e=0;e<s;e+=4)n=ht.indexOf(t[e]),r=ht.indexOf(t[e+1]),o=ht.indexOf(t[e+2]),a=ht.indexOf(t[e+3]),u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|o>>2,u[l++]=(3&o)<<6|63&a;return c}function D(t){var e,n=new Uint8Array(t),r="";for(e=0;e<n.length;e+=3)r+=ht[n[e]>>2],r+=ht[(3&n[e])<<4|n[e+1]>>4],r+=ht[(15&n[e+1])<<2|n[e+2]>>6],r+=ht[63&n[e+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}function R(t,e){var n="";if(t&&(n=It.call(t)),t&&("[object ArrayBuffer]"===n||t.buffer&&"[object ArrayBuffer]"===It.call(t.buffer))){var r,o=gt;t instanceof ArrayBuffer?(r=t,o+=mt):(r=t.buffer,"[object Int8Array]"===n?o+=wt:"[object Uint8Array]"===n?o+=xt:"[object Uint8ClampedArray]"===n?o+=kt:"[object Int16Array]"===n?o+=Et:"[object Uint16Array]"===n?o+=Nt:"[object Int32Array]"===n?o+=Ct:"[object Uint32Array]"===n?o+=St:"[object Float32Array]"===n?o+=Ot:"[object Float64Array]"===n?o+=_t:e(new Error("Failed to get type for BinaryArray"))),e(o+D(r))}else if("[object Blob]"===n){var a=new FileReader;a.onload=function(){var n=pt+t.type+"~"+D(this.result);e(gt+bt+n)},a.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(n){console.error("Couldn't convert value into a JSON string: ",t),e(null,n)}}function B(t){if(t.substring(0,yt)!==gt)return JSON.parse(t);var e,n=t.substring(At),r=t.substring(yt,At);if(r===bt&&vt.test(n)){var o=n.match(vt);e=o[1],n=n.substring(o[0].length)}var a=T(n);switch(r){case mt:return a;case bt:return l([a],{type:e});case wt:return new Int8Array(a);case xt:return new Uint8Array(a);case kt:return new Uint8ClampedArray(a);case Et:return new Int16Array(a);case Nt:return new Uint16Array(a);case Ct:return new Int32Array(a);case St:return new Uint32Array(a);case Ot:return new Float32Array(a);case _t:return new Float64Array(a);default:throw new Error("Unkown type: "+r)}}function M(t){var e=this,n={db:null};if(t)for(var r in t)n[r]="string"!=typeof t[r]?t[r].toString():t[r];var o=new ct(function(t,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(t){return r(t)}n.db.transaction(function(o){o.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){e._dbInfo=n,t()},function(t,e){r(e)})})});return n.serializer=Ft,o}function j(t,e){var n=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=new ct(function(e,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){n.executeSql("SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[t],function(t,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=o.serializer.deserialize(r)),e(r)},function(t,e){r(e)})})}).catch(r)});return c(r,e),r}function K(t,e){var n=this,r=new ct(function(e,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){n.executeSql("SELECT * FROM "+o.storeName,[],function(n,r){for(var a=r.rows,i=a.length,s=0;s<i;s++){var l=a.item(s),c=l.value;if(c&&(c=o.serializer.deserialize(c)),void 0!==(c=t(c,l.key,s+1)))return void e(c)}e()},function(t,e){r(e)})})}).catch(r)});return c(r,e),r}function P(t,e,n,r){var o=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var a=new ct(function(a,i){o.ready().then(function(){void 0===e&&(e=null);var s=e,l=o._dbInfo;l.serializer.serialize(e,function(e,c){c?i(c):l.db.transaction(function(n){n.executeSql("INSERT OR REPLACE INTO "+l.storeName+" (key, value) VALUES (?, ?)",[t,e],function(){a(s)},function(t,e){i(e)})},function(e){if(e.code===e.QUOTA_ERR){if(r>0)return void a(P.apply(o,[t,s,n,r-1]));i(e)}})})}).catch(i)});return c(a,n),a}function z(t,e,n){return P.apply(this,[t,e,n,1])}function W(t,e){var n=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=new ct(function(e,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){n.executeSql("DELETE FROM "+o.storeName+" WHERE key = ?",[t],function(){e()},function(t,e){r(e)})})}).catch(r)});return c(r,e),r}function V(t){var e=this,n=new ct(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){e.executeSql("DELETE FROM "+r.storeName,[],function(){t()},function(t,e){n(e)})})}).catch(n)});return c(n,t),n}function $(t){var e=this,n=new ct(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){e.executeSql("SELECT COUNT(key) as c FROM "+r.storeName,[],function(e,n){var r=n.rows.item(0).c;t(r)},function(t,e){n(e)})})}).catch(n)});return c(n,t),n}function H(t,e){var n=this,r=new ct(function(e,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){n.executeSql("SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[t+1],function(t,n){var r=n.rows.length?n.rows.item(0).key:null;e(r)},function(t,e){r(e)})})}).catch(r)});return c(r,e),r}function U(t){var e=this,n=new ct(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){e.executeSql("SELECT key FROM "+r.storeName,[],function(e,n){for(var r=[],o=0;o<n.rows.length;o++)r.push(n.rows.item(o).key);t(r)},function(t,e){n(e)})})}).catch(n)});return c(n,t),n}function q(t){var e=this,n={};if(t)for(var r in t)n[r]=t[r];return n.keyPrefix=n.name+"/",n.storeName!==e._defaultConfig.storeName&&(n.keyPrefix+=n.storeName+"/"),e._dbInfo=n,n.serializer=Ft,ct.resolve()}function G(t){var e=this,n=e.ready().then(function(){for(var t=e._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(t)&&localStorage.removeItem(r)}});return c(n,t),n}function Y(t,e){var n=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=n.ready().then(function(){var e=n._dbInfo,r=localStorage.getItem(e.keyPrefix+t);return r&&(r=e.serializer.deserialize(r)),r});return c(r,e),r}function Q(t,e){var n=this,r=n.ready().then(function(){for(var e=n._dbInfo,r=e.keyPrefix,o=r.length,a=localStorage.length,i=1,s=0;s<a;s++){var l=localStorage.key(s);if(0===l.indexOf(r)){var c=localStorage.getItem(l);if(c&&(c=e.serializer.deserialize(c)),void 0!==(c=t(c,l.substring(o),i++)))return c}}});return c(r,e),r}function X(t,e){var n=this,r=n.ready().then(function(){var e,r=n._dbInfo;try{e=localStorage.key(t)}catch(t){e=null}return e&&(e=e.substring(r.keyPrefix.length)),e});return c(r,e),r}function J(t){var e=this,n=e.ready().then(function(){for(var t=e._dbInfo,n=localStorage.length,r=[],o=0;o<n;o++)0===localStorage.key(o).indexOf(t.keyPrefix)&&r.push(localStorage.key(o).substring(t.keyPrefix.length));return r});return c(n,t),n}function Z(t){var e=this,n=e.keys().then(function(t){return t.length});return c(n,t),n}function tt(t,e){var n=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=n.ready().then(function(){var e=n._dbInfo;localStorage.removeItem(e.keyPrefix+t)});return c(r,e),r}function et(t,e,n){var r=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var o=r.ready().then(function(){void 0===e&&(e=null);var n=e;return new ct(function(o,a){var i=r._dbInfo;i.serializer.serialize(e,function(e,r){if(r)a(r);else try{localStorage.setItem(i.keyPrefix+t,e),o(n)}catch(t){"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name||a(t),a(t)}})})});return c(o,n),o}function nt(t,e){t[e]=function(){var n=arguments;return t.ready().then(function(){return t[e].apply(t,n)})}}function rt(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var n in e)e.hasOwnProperty(n)&&(Pt(e[n])?arguments[0][n]=e[n].slice():arguments[0][n]=e[n])}return arguments[0]}function ot(t){for(var e in Rt)if(Rt.hasOwnProperty(e)&&Rt[e]===t)return!0;return!1}var at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},it=o();"undefined"==typeof Promise&&t(3);var st,lt,ct=Promise,ut="local-forage-detect-blob-support",ft=Object.prototype.toString,dt={_driver:"asyncStorage",_initStorage:C,iterate:S,getItem:N,setItem:O,removeItem:_,clear:A,length:I,key:F,keys:L},ht="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pt="~~local_forage_type~",vt=/^~~local_forage_type~([^~]+)~/,gt="__lfsc__:",yt=gt.length,mt="arbf",bt="blob",wt="si08",xt="ui08",kt="uic8",Et="si16",Ct="si32",Nt="ur16",St="ui32",Ot="fl32",_t="fl64",At=yt+mt.length,It=Object.prototype.toString,Ft={serialize:R,deserialize:B,stringToBuffer:T,bufferToString:D},Lt={_driver:"webSQLStorage",_initStorage:M,iterate:K,getItem:j,setItem:z,removeItem:W,clear:V,length:$,key:H,keys:U},Tt={_driver:"localStorageWrapper",_initStorage:q,iterate:Q,getItem:Y,setItem:et,removeItem:tt,clear:G,length:Z,key:X,keys:J},Dt={},Rt={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"},Bt=[Rt.INDEXEDDB,Rt.WEBSQL,Rt.LOCALSTORAGE],Mt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],jt={description:"",driver:Bt.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},Kt={};Kt[Rt.INDEXEDDB]=a(),Kt[Rt.WEBSQL]=i(),Kt[Rt.LOCALSTORAGE]=s();var Pt=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},zt=function(){function t(e){r(this,t),this.INDEXEDDB=Rt.INDEXEDDB,this.LOCALSTORAGE=Rt.LOCALSTORAGE,this.WEBSQL=Rt.WEBSQL,this._defaultConfig=rt({},jt),this._config=rt({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return t.prototype.config=function(t){if("object"===(void 0===t?"undefined":at(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t&&t.driver)||this.setDriver(this._config.driver)}return"string"==typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,n){var r=new ct(function(e,n){try{var r=t._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),a=new Error("Custom driver name already in use: "+t._driver);if(!t._driver)return void n(o);if(ot(t._driver))return void n(a);for(var i=Mt.concat("_initStorage"),s=0;s<i.length;s++){var l=i[s];if(!l||!t[l]||"function"!=typeof t[l])return void n(o)}var c=ct.resolve(!0);"_support"in t&&(c=t._support&&"function"==typeof t._support?t._support():ct.resolve(!!t._support)),c.then(function(n){Kt[r]=n,Dt[r]=t,e()},n)}catch(t){n(t)}});return u(r,e,n),r},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,n){var r=this,o=ct.resolve().then(function(){if(!ot(t)){if(Dt[t])return Dt[t];throw new Error("Driver not found.")}switch(t){case r.INDEXEDDB:return dt;case r.LOCALSTORAGE:return Tt;case r.WEBSQL:return Lt}});return u(o,e,n),o},t.prototype.getSerializer=function(t){var e=ct.resolve(Ft);return u(e,t),e},t.prototype.ready=function(t){var e=this,n=e._driverSet.then(function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready});return u(n,t,t),n},t.prototype.setDriver=function(t,e,n){function r(){i._config.driver=i.driver()}function o(t){return i._extend(t),r(),i._ready=i._initStorage(i._config),i._ready}function a(t){return function(){function e(){for(;n<t.length;){var a=t[n];return n++,i._dbInfo=null,i._ready=null,i.getDriver(a).then(o).catch(e)}r();var s=new Error("No available storage method found.");return i._driverSet=ct.reject(s),i._driverSet}var n=0;return e()}}var i=this;Pt(t)||(t=[t]);var s=this._getSupportedDrivers(t),l=null!==this._driverSet?this._driverSet.catch(function(){return ct.resolve()}):ct.resolve();return this._driverSet=l.then(function(){var t=s[0];return i._dbInfo=null,i._ready=null,i.getDriver(t).then(function(t){i._driver=t._driver,r(),i._wrapLibraryMethodsWithReady(),i._initDriver=a(s)})}).catch(function(){r();var t=new Error("No available storage method found.");return i._driverSet=ct.reject(t),i._driverSet}),u(this._driverSet,e,n),this._driverSet},t.prototype.supports=function(t){return!!Kt[t]},t.prototype._extend=function(t){rt(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],n=0,r=t.length;n<r;n++){var o=t[n];this.supports(o)&&e.push(o)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0;t<Mt.length;t++)nt(this,Mt[t])},t.prototype.createInstance=function(e){return new t(e)},t}(),Wt=new zt;e.exports=Wt},{3:3}]},{},[4])(4)})}).call(e,n(14))},55:function(t,e,n){"use strict";n.d(e,"f",function(){return r}),n.d(e,"g",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"e",function(){return i}),n.d(e,"h",function(){return s}),n.d(e,"m",function(){return l}),n.d(e,"j",function(){return c}),n.d(e,"k",function(){return u}),n.d(e,"i",function(){return f}),n.d(e,"l",function(){return d}),n.d(e,"a",function(){return h}),n.d(e,"b",function(){return p}),n.d(e,"c",function(){return v});var r="<h4>Features of Netflower:</h4>Netflower is developed to explore large bipartite network data.\nThe tool supports you finding interesting aspects in the data. You cannot directly create visualizations out of it, but you can export the data\nbased on your exploration state.",o="<h4>Important Information:</h4>The data you load will only be stored locally on your computer.\nWhen you close the browser, the data is retained. When the computer is restarted or you upload new data,\nthe data and exploration steps are lost.",a="Your current <font color='#DA5A6B'><strong>FILTER</strong></font> settings are\ntoo restrictive. There is <strong>NO DATA</strong> to show!<br/>Please change your filter settings in order to show\ndata on the visualization.\n<br/><br/><p>Clicking the <span style='border: 1px solid grey; background-color: #f0f0f0; padding: 2px;\nborder-radius: 5px;'>Ok</span> button will <strong>reset</strong> all filters to default!</p>\n<p>Clicking the <span style='border: 1px solid grey; padding: 2px;border-radius: 5px;'>Cancel</span> button\nwill do nothing and you have to adjust the filters yourself to see some data.</p>",i="There are <font color='#DA5A6B'><strong>no tags</strong></font> to display tag flows.",s="<strong><h3>Data format:</h3></strong><br/>\nThis tool requires a specific format for the tables in order to visualize them appropriate. Also <strong>.CSV</strong> are\nonly accepted. If the required format isn't met, it will result in erros or no displayed data. The format of the\ntable headings defines all further views but needs to be in a specific order:",l="Upon hitting the <strong>OK</strong> button, you will be redirected to the data load page.<br/>\n<strong>NOTE:</strong> This will reload the page and the previous data will be lost!!<br/><br/>\nBe sure you don't lose anything important or save your progress before you proceed.",c="Select here the time range of the visualization.<br/>\n1) Click & Drag mouse for rectangle selection.<br/>\n2) Click one elment to make a single selection.<br/>\n3) CTRL + Click to make a multi selection.",u="Select here the attributes you want to filter for on the current visualization. The attributes\nare read from your imported .csv file. If you see no checkboxes here, you probably have no attributes defined.",f="Export logs for evaluation and testing purpose. The application tracks your actions and the state of the visualization the whole time. By clicking on the\nbutton a <strong>Log File</strong> will be created and saved locally on your machine.",d="<span class='label label-warning' style='font-weight: normal;'>Warning</span>\nYou have no time points selected! <br/> In order to prevent the application from showing nothing or unwanted results,\nthe last defined time points were choosen.",h="<span class='label label-warning' style='font-weight: normal;'>Warning</span>\nSomething went wrong, we can't find data! <br/> Reduce the amount of filters, reload the page or change your settings\nand try to export your data again.",p="<span class='label label-info' style='font-weight: normal; background: #45B07C;'>Info</span>\nYou are going to download a file with the name: <strong>flows</strong> and the current time stamp which contains the exported flow data of the current\nview. Proceed with OK if you want to download the file.",v="<span class='label label-info' style='font-weight: normal; background: #45B07C;'>Info</span>\nYou are going to download a file with the name: <strong>timeseries</strong> and the current time stamp which contains the exported data of the current\nview. Proceed with OK if you want to download the file."},56:function(t,e,n){var r,o,a;!function(i,s){"use strict";o=[n(3)],r=s,void 0!==(a="function"==typeof r?r.apply(e,o):r)&&(t.exports=a)}(0,function t(e,n){"use strict";function r(t){var e=g[p.locale];return e?e[t]:g.en[t]}function o(t,n,r){t.stopPropagation(),t.preventDefault(),e.isFunction(r)&&!1===r.call(n,t)||n.modal("hide")}function a(t){var e,n=0;for(e in t)n++;return n}function i(t,n){var r=0;e.each(t,function(t,e){n(t,e,r++)})}function s(t){var n,r;if("object"!=typeof t)throw new Error("Please supply an object of options");if(!t.message)throw new Error("Please specify a message");return t=e.extend({},p,t),t.buttons||(t.buttons={}),n=t.buttons,r=a(n),i(n,function(t,o,a){if(e.isFunction(o)&&(o=n[t]={callback:o}),"object"!==e.type(o))throw new Error("button with key "+t+" must be an object");o.label||(o.label=t),o.className||(o.className=r<=2&&a===r-1?"btn-primary":"btn-default")}),t}function l(t,e){var n=t.length,r={};if(n<1||n>2)throw new Error("Invalid argument length");return 2===n||"string"==typeof t[0]?(r[e[0]]=t[0],r[e[1]]=t[1]):r=t[0],r}function c(t,n,r){return e.extend(!0,{},t,l(n,r))}function u(t,e,n,r){return d(c({className:"bootbox-"+t,buttons:f.apply(null,e)},r,n),e)}function f(){for(var t={},e=0,n=arguments.length;e<n;e++){var o=arguments[e],a=o.toLowerCase(),i=o.toUpperCase();t[a]={label:r(i)}}return t}function d(t,e){var r={};return i(e,function(t,e){r[e]=!0}),i(t.buttons,function(t){if(r[t]===n)throw new Error("button key "+t+" is not allowed (options are "+e.join("\n")+")")}),t}var h={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},p={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body"},v={};v.alert=function(){var t;if(t=u("alert",["ok"],["message","callback"],arguments),t.callback&&!e.isFunction(t.callback))throw new Error("alert requires callback property to be a function when provided");return t.buttons.ok.callback=t.onEscape=function(){return!e.isFunction(t.callback)||t.callback.call(this)},v.dialog(t)},v.confirm=function(){var t;if(t=u("confirm",["cancel","confirm"],["message","callback"],arguments),t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,!1)},t.buttons.confirm.callback=function(){return t.callback.call(this,!0)},!e.isFunction(t.callback))throw new Error("confirm requires a callback");return v.dialog(t)},v.prompt=function(){var t,r,o,a,s,l,u;if(a=e(h.form),r={className:"bootbox-prompt",buttons:f("cancel","confirm"),value:"",inputType:"text"},t=d(c(r,arguments,["title","callback"]),["cancel","confirm"]),l=t.show===n||t.show,t.message=a,t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,null)},t.buttons.confirm.callback=function(){var n;switch(t.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":n=s.val();break;case"checkbox":var r=s.find("input:checked");n=[],i(r,function(t,r){n.push(e(r).val())})}return t.callback.call(this,n)},t.show=!1,!t.title)throw new Error("prompt requires a title");if(!e.isFunction(t.callback))throw new Error("prompt requires a callback");if(!h.inputs[t.inputType])throw new Error("invalid prompt type");switch(s=e(h.inputs[t.inputType]),t.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":s.val(t.value);break;case"select":var p={};if(u=t.inputOptions||[],!e.isArray(u))throw new Error("Please pass an array of input options");if(!u.length)throw new Error("prompt with select requires options");i(u,function(t,r){var o=s;if(r.value===n||r.text===n)throw new Error("given options in wrong format");r.group&&(p[r.group]||(p[r.group]=e("<optgroup/>").attr("label",r.group)),o=p[r.group]),o.append("<option value='"+r.value+"'>"+r.text+"</option>")}),i(p,function(t,e){s.append(e)}),s.val(t.value);break;case"checkbox":var g=e.isArray(t.value)?t.value:[t.value];if(u=t.inputOptions||[],!u.length)throw new Error("prompt with checkbox requires options");if(!u[0].value||!u[0].text)throw new Error("given options in wrong format");s=e("<div/>"),i(u,function(n,r){var o=e(h.inputs[t.inputType]);o.find("input").attr("value",r.value),o.find("label").append(r.text),i(g,function(t,e){e===r.value&&o.find("input").prop("checked",!0)}),s.append(o)})}return t.placeholder&&s.attr("placeholder",t.placeholder),t.pattern&&s.attr("pattern",t.pattern),t.maxlength&&s.attr("maxlength",t.maxlength),a.append(s),a.on("submit",function(t){t.preventDefault(),t.stopPropagation(),o.find(".btn-primary").click()}),o=v.dialog(t),o.off("shown.bs.modal"),o.on("shown.bs.modal",function(){s.focus()}),!0===l&&o.modal("show"),o},v.dialog=function(t){t=s(t);var r=e(h.dialog),a=r.find(".modal-dialog"),l=r.find(".modal-body"),c=t.buttons,u="",f={onEscape:t.onEscape};if(e.fn.modal===n)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");if(i(c,function(t,e){u+="<button data-bb-handler='"+t+"' type='button' class='btn "+e.className+"'>"+e.label+"</button>",f[t]=e.callback}),l.find(".bootbox-body").html(t.message),!0===t.animate&&r.addClass("fade"),t.className&&r.addClass(t.className),"large"===t.size?a.addClass("modal-lg"):"small"===t.size&&a.addClass("modal-sm"),t.title&&l.before(h.header),t.closeButton){var d=e(h.closeButton);t.title?r.find(".modal-header").prepend(d):d.css("margin-top","-10px").prependTo(l)}return t.title&&r.find(".modal-title").html(t.title),u.length&&(l.after(h.footer),r.find(".modal-footer").html(u)),r.on("hidden.bs.modal",function(t){t.target===this&&r.remove()}),r.on("shown.bs.modal",function(){r.find(".btn-primary:first").focus()}),"static"!==t.backdrop&&r.on("click.dismiss.bs.modal",function(t){r.children(".modal-backdrop").length&&(t.currentTarget=r.children(".modal-backdrop").get(0)),t.target===t.currentTarget&&r.trigger("escape.close.bb")}),r.on("escape.close.bb",function(t){f.onEscape&&o(t,r,f.onEscape)}),r.on("click",".modal-footer button",function(t){var n=e(this).data("bb-handler");o(t,r,f[n])}),r.on("click",".bootbox-close-button",function(t){o(t,r,f.onEscape)}),r.on("keyup",function(t){27===t.which&&r.trigger("escape.close.bb")}),e(t.container).append(r),r.modal({backdrop:!!t.backdrop&&"static",keyboard:!1,show:!1}),t.show&&r.modal("show"),r},v.setDefaults=function(){var t={};2===arguments.length?t[arguments[0]]=arguments[1]:t=arguments[0],e.extend(p,t)},v.hideAll=function(){return e(".bootbox").modal("hide"),v};var g={bg_BG:{OK:"Ок",CANCEL:"Отказ",CONFIRM:"Потвърждавам"},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zrušit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"Εντάξει",CANCEL:"Ακύρωση",CONFIRM:"Επιβεβαίωση"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fa:{OK:"قبول",CANCEL:"لغو",CONFIRM:"تایید"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"אישור",CANCEL:"ביטול",CONFIRM:"אישור"},hu:{OK:"OK",CANCEL:"Mégsem",CONFIRM:"Megerősít"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"キャンセル",CONFIRM:"確認"},lt:{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprināt"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},th:{OK:"ตกลง",CANCEL:"ยกเลิก",CONFIRM:"ยืนยัน"},tr:{OK:"Tamam",CANCEL:"İptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};return v.addLocale=function(t,n){return e.each(["OK","CANCEL","CONFIRM"],function(t,e){if(!n[e])throw new Error("Please supply a translation for '"+e+"'")}),g[t]={OK:n.OK,CANCEL:n.CANCEL,CONFIRM:n.CONFIRM},v},v.removeLocale=function(t){return delete g[t],v},v.setLocale=function(t){return v.setDefaults("locale",t)},v.init=function(n){return t(n||e)},v})},61:function(t,e,n){"use strict";function r(t){return t}var o=n(8),a=(n.n(o),o.time.format("%Y%m")),i=o.time.format("%b %Y"),s=function(){function t(){}return t.format=function(e){if(null!==e&&void 0!==e)return t.func(e)},t.reverseFormat=function(e){if(null!==e&&void 0!==e)return t.revt(e)},t.formatNumber=function(e){return t.func(e.toString())},t.formatMultiple=function(e,n){if(1===e.length)return t.format(e[0]);for(var r="",o="",a="",i=0,s=n;i<s.length;i++){var l=s[i];e.indexOf(l)>=0?o.length>0?a=l:(o=l,a=l):o.length>0&&(r.length>0&&(r+=", "),r+=t.format(o),o!==a&&(r+="-"+t.format(a)),o="")}return o.length>0&&(r.length>0&&(r+=", "),r+=t.format(o),o!==a&&(r+="-"+t.format(a))),r},t.setFormat=function(e){e.match(/quarter/i)?(t.func=function(t){return t.substr(0,4)+" Q"+t.substr(-1)},t.revt=function(t){return t.replace(" Q","")}):e.match(/month/i)?(t.func=function(t){var e=a.parse(t);return i(e)},t.revt=function(t){var e=i.parse(t);return a(e)}):t.func=r},t}();e.a=s,s.func=r,s.revt=r},62:function(t,e,n){"use strict";var r=function(){function t(){this._attributeFilters=new Array,this.filters=new Array}return t.getInstance=function(){return null!==t.instance&&void 0!==t.instance||(t.instance=new t),t.instance},t.prototype.addFilter=function(t){null===t&&void 0===t||this.filters.push(t)},t.prototype.addAttributeFilter=function(t){null===t&&void 0===t||(this.filters.push(t),this._attributeFilters.push(t))},t.prototype.changeEntitySearchFilter=function(t){this._entitySearchFilter=t},t.prototype.changeMediaSearchFilter=function(t){this._mediaSearchFilter=t},t.prototype.changeTagFlowFilter=function(t){this._tagFlowFilter=t},t.prototype.getTagFlowFilterStatus=function(){return this._tagFlowFilter.active},t.prototype.performFilters=function(t){this._tagFlowFilter.active?null!==this._tagFlowFilter&&void 0!==this._tagFlowFilter&&(t=this._tagFlowFilter.meetCriteria(t)):(null!==this._entitySearchFilter&&void 0!==this._entitySearchFilter&&(t=this._entitySearchFilter.meetCriteria(t)),null!==this._mediaSearchFilter&&void 0!==this._mediaSearchFilter&&(t=this._mediaSearchFilter.meetCriteria(t)));for(var e=0,n=this.filters;e<n.length;e++){t=n[e].meetCriteria(t)}return t},t.prototype.performAttributeFilters=function(t){for(var e=0,n=this._attributeFilters;e<n.length;e++){t=n[e].meetCriteria(t)}return t},t.prototype.printFilters=function(){console.log("Filter Count: "+(this.filters.length+3)),this._entitySearchFilter.printData(),this._mediaSearchFilter.printData(),this._tagFlowFilter.printData();for(var t=0,e=this.filters;t<e.length;t++){e[t].printData()}},t}();e.a=r},66:function(t,e,n){var r=n(8);r.sankey=function(){function t(){p.forEach(function(t){t.sourceLinks=[],t.targetLinks=[]}),v.forEach(function(t){var e=t.source,n=t.target;"number"==typeof e&&(e=t.source=p[t.source]),"number"==typeof n&&(n=t.target=p[t.target]),e.sourceLinks.push(t),n.targetLinks.push(t)})}function e(){p.forEach(function(t){t.value=Math.max(r.sum(t.sourceLinks,c),r.sum(t.targetLinks,c))})}function n(){for(var t,e=p,n=0;e.length;)t=[],e.forEach(function(e){e.x=n,e.dx=f,e.sourceLinks.forEach(function(e){t.indexOf(e.target)<0&&t.push(e.target)})}),e=t,++n;o(n),a((h[0]-f)/(n-1))}function o(t){p.forEach(function(e){e.sourceLinks.length||(e.x=t-1)})}function a(t){p.forEach(function(e){e.x*=t})}function i(t){function e(){var t=r.min(s,function(t){return(h[1]-(t.length-1)*d)/r.sum(t,c)});s.forEach(function(e){e.forEach(function(e,n){e.y=n,e.dy=e.value*t})}),v.forEach(function(e){e.dy=e.value*t})}function n(t){function e(t){return l(t.source)*t.value}s.forEach(function(n,o){n.forEach(function(n){if(n.targetLinks.length){var o=r.sum(n.targetLinks,e)/r.sum(n.targetLinks,c);n.y+=(o-l(n))*t}})})}function o(t){function e(t){return l(t.target)*t.value}s.slice().reverse().forEach(function(n){n.forEach(function(n){if(n.sourceLinks.length){var o=r.sum(n.sourceLinks,e)/r.sum(n.sourceLinks,c);n.y+=(o-l(n))*t}})})}function a(){s.forEach(function(t){var e,n,r,o=0,a=t.length;for(optimizeSpace&&t.sort(i),r=0;r<a;++r)e=t[r],n=o-e.y,n>0&&(e.y+=n),o=e.y+e.dy+d;if((n=o-d-h[1])>0)for(o=e.y-=n,r=a-2;r>=0;--r)e=t[r],n=e.y+e.dy+d-o,n>0&&(e.y-=n),o=e.y})}function i(t,e){return t.y-e.y}var s=r.nest().key(function(t){return t.x}).sortKeys(r.ascending).entries(p).map(function(t){return t.values});e(),a();for(var u=1;t>0;--t)o(u*=.99),a(),n(u),a()}function s(){function t(t,e){return t.source.y-e.source.y}function e(t,e){return t.target.y-e.target.y}p.forEach(function(n){n.sourceLinks.sort(e),n.targetLinks.sort(t)}),p.forEach(function(t){var e=0,n=0;t.sourceLinks.forEach(function(t){t.sy=e,e+=t.dy}),t.targetLinks.forEach(function(t){t.ty=n,n+=t.dy})})}function l(t){return t.y+t.dy/2}function c(t){return t.value}var u={},f=24,d=8,h=[1,1],p=[],v=[];return optimizeSpace=!0,u.nodeWidth=function(t){return arguments.length?(f=+t,u):f},u.nodePadding=function(t){return arguments.length?(d=+t,u):d},u.nodes=function(t){return arguments.length?(p=t,u):p},u.links=function(t){return arguments.length?(v=t,u):v},u.size=function(t){return arguments.length?(h=t,u):h},u.changeOptimization=function(t){return arguments.length?(optimizeSpace=t,u):optimizeSpace},u.layout=function(r){return t(),e(),n(),i(r),s(),u},u.relayout=function(){return s(),u},u.link=function(){function t(t){var n=t.source.x+t.source.dx,o=t.target.x,a=r.interpolateNumber(n,o),i=a(e),s=a(1-e),l=t.source.y+t.sy+t.dy/2,c=t.target.y+t.ty+t.dy/2;return"M"+n+","+l+"C"+i+","+l+" "+s+","+c+" "+o+","+c}var e=.5;return t.curvature=function(n){return arguments.length?(e=+n,t):e},t},u}}});